$(document).ready(function () {
    $("#FromDate").datepicker({
        language: 'pl-PL',
        format: 'yyyy-mm-dd',
        autoHide: true,
        autoPick: true,
        highlightedClass: "highlighted",
        startDate: Date.now()
    });
});

$(document).ready(function () {
    $("#ToDate").datepicker({
        language: 'pl-PL',
        format: 'yyyy-mm-dd',
        autoHide: true,
        autoPick: true,
        highlightedClass: "highlighted",
        startDate: Date.now()
    });
});

$(document).ready(() => {
    $("#FromDate").on("pick.datepicker", function (e) {
        if (e.date > $("#ToDate").datepicker("getDate")) {
            $("#FromDate").datepicker("setDate", $("#ToDate").datepicker("getDate"));
        }
    });
    $("#ToDate").on("pick.datepicker", function (e) {
        if (e.date < $("#FromDate").datepicker("getDate")) {
            $("#ToDate").datepicker("setDate", $("#FromDate").datepicker('getDate'));
        }
    });
});
$(document).ready(() => {
    $.ajax({
        type: "GET",
        data: $("form#list-filters").serialize(),
        url: "/transactions/get-list",
        dataType: "html"
    }).done((response) => {
        $("#tran-list").html(response);
    }).always(() => {
        $("#pre-loader").fadeOut("slow");
    });
});

$(document).ready(() => {
    $("#ClientType").change(() => {
        $("#pre-loader").fadeIn("fast");
        $("#text-loader").html("Wyszukiwanie danych.");
        $.ajax({
            type: "GET",
            data: $("form#list-filters").serialize(),
            url: "/transaction/get-list",
            dataType: "html"
        }).done((response) => {
            $("#tran-list").html(response);
        }).always(() => {
            $("#pre-loader").fadeOut("slow");
        });
    });
});

$(document).ready(() => {
    $("#FromDate").change(() => {
        $("#pre-loader").fadeIn("fast");
        $("#text-loader").html("Wyszukiwanie danych.");
        $.ajax({
            type: "POST",
            data: $("form#list-filters").serialize(),
            url: "/Transaction/GetList",
            dataType: "html"
        }).done((response) => {
            $("#tran-list").html(response);
        }).always(() => {
            $("#pre-loader").fadeOut("slow");
        });
    });
});

$(document).ready(() => {
    $("#ToDate").change(() => {
        $("#pre-loader").fadeIn("fast");
        $("#text-loader").html("Wyszukiwanie danych.");
        $.ajax({
            type: "POST",
            data: $("form#list-filters").serialize(),
            url: "/Transaction/GetList",
            dataType: "html"
        }).done((response) => {
            $("#tran-list").html(response);
        }).always(() => {
            $("#pre-loader").fadeOut("slow");
        });
    });
});

$(document).ready(() => {
    $("#Expression").keyup(() => {
        $("#pre-loader").fadeIn("fast");
        $("#text-loader").html("Wyszukiwanie danych.");
        $.ajax({
            type: "POST",
            data: $("form#list-filters").serialize(),
            url: "/Transaction/GetList",
            dataType: "html"
        }).done((response) => {
            $("#tran-list").html(response);
        }).always(() => {
            $("#pre-loader").fadeOut("slow");
        });
    });
});
