function generatePdf(transactionCode) {
    $("#generatingPDF").removeClass("d-none");
    $.get(`/Withdrawal/generatepdf/${transactionCode}`)
        .done((Response) => {
            var link = document.createElement("a");
            link.download = Response;
            link.href = Response;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            delete link;
            $("#generatingPDF").text("Pobieranie...");
            setTimeout(function () {
                $("#generatingPDF").addClass("d-none");
                $("#generatingPDF").text("Generowanie PDF...");
            }, 4000);
        })
        .fail((error) => {
            console.error(error);
        });

}
$(document).ready(() => {
    $.get("/withdrawal/get-amount")
        .done((response) => {
            $("#amountHistory").html(response);
        })
})

$(document).ready(() => {
    $("#CurrencyName").change(() => {
        let currencyName = $("#CurrencyName").val();
        $.ajax({
            type: "GET",
            dataType: "json",
            data: { currencyName: currencyName },
            url: "/Wallet/GetAvailableAmount"
        }).done((response) => {
            $("#AvailableAmount").text(response);

            if (response == "0,00") {
                $("#Create input[type='submit']").prop("disabled", true);
            }
            else {
                $("#Create input[type='submit']").prop("disabled", false);
            }
        });
    });
});
$(document).ready(() => {
    $("#CurrencyName").change(() => {
        $("#Search #progressText").html("Trwa wyszukiwanie...");
        $("#Search #progressBar").removeClass("d-none");
        $.ajax({
            type: "POST",
            data: $("#Search").serialize(),
            url: "/Withdrawal/GetData",
            dataType: "html"
        }).done((response) => {
            $("#withdrawal").html(response);
            $("#progressBar").addClass("d-none");
        });
    });
});
$(document).ready(() => {
    $("#BankName").change(() => {
        let bankName = $("#BankName").val();
        $.ajax({
            type: "GET",
            dataType: "json",
            data: { bankName: bankName },
            url: "/withdrawal/GetCurrency"
        }).done((response) => {
            $("#CurrencyName").empty();
            $.each(response, index => {
                $("#CurrencyName").append(`<option value="${response[index].symbol}">${response[index].symbol} - ${response[index].name}</option>`);
            });
            let currencyName = $("#CurrencyName").val();
            $.ajax({
                type: "GET",
                dataType: "json",
                data: { currencyName: currencyName },
                url: "/Wallet/GetAvailableAmount"
            }).done((response) => {
                $("#AvailableAmount").text(response);
                $.ajax({
                    type: "POST",
                    data: $("#Search").serialize(),
                    url: "/Withdrawal/GetData",
                    dataType: "html"
                }).done((response) => {
                    $("#withdrawal").html(response);
                    $("#progressBar").addClass("d-none");
                });
            });
        });
    });
});
$(document).ready(() => {
    $.get("/withdrawal/get-amount")
        .done((response) => {
            $("#amountHistory").html(response);
        })
})

$(document).ready(() => {
    $.get("/withdrawal/get-history")
        .done((response) => {
            $("#history").html(response);
        })
})
